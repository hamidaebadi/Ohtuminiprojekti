{% extends "layout.html" %}

{% block title %}
Lukuvinkkikirjasto
{% endblock %}

{% block body %}
<h1>Lukuvinkkikirjasto</h1>

<ul>
    <li><a href="/add_tip">Lisää uusi vinkki</a></li>
</ul>

<h2>Lisätyt lukuvinkit</h2>

{% with messages = get_flashed_messages() %}
{% if messages %}
  <ul>
  {% for message in messages %}
    {{ message }}
  {% endfor %}
  </ul>
{% endif %}
{% endwith %}

{% if tips %}
<form action="/" method="POST">
<ul>
    {% for tip in tips %}
      <li>
        {% if tip.url %}
        <a href="{{ tip.url }}" target=”_blank”>{{ tip.title }}</a>, {{ tip.author }}, {{ tip.description }}
        {% else %}
        <b>{{ tip.title }}</b>, {{ tip.author }}, {{ tip.description }}
        {% endif %}
        <button type="submit" name="delete" value="{{ tip.id }}">Poista</button>
      </li>
    {% endfor %}
</ul>
</form>
{% else %}
<ul>
    Ei vielä lisättyjä lukuvinkkejä
</ul>
{% endif %}

{% endblock %}
